<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenProject Assistant - Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>‚öôÔ∏è OpenProject Assistant Settings</h1>
    </header>
    
    <main>
      <section class="settings-section">
        <h2>üîå Connection Settings</h2>
        <p class="section-description">Configure your OpenProject server connection</p>
        
        <div class="form-group">
          <label for="serverUrl">
            Server URL
            <span class="required">*</span>
          </label>
          <input 
            type="url" 
            id="serverUrl" 
            placeholder="https://your-openproject-instance.com"
            required
          />
          <small>The base URL of your OpenProject installation (without trailing slash)</small>
        </div>
        
        <div class="form-group">
          <label for="apiKey">
            API Key
            <span class="required">*</span>
          </label>
          <input 
            type="password" 
            id="apiKey" 
            placeholder="Enter your OpenProject API key"
            required
          />
          <small>Generate your API key in OpenProject: My Account ‚Üí Access tokens</small>
          <button type="button" id="toggleApiKey" class="btn-link">Show</button>
        </div>
        
        <div class="connection-test">
          <button type="button" id="testConnectionBtn" class="btn btn-secondary">
            Test Connection
          </button>
          <div id="connectionResult"></div>
        </div>
      </section>
      
      <section class="settings-section">
        <h2>üîî Notification Settings</h2>
        <p class="section-description">Configure reminders and notifications</p>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="enableReminders" />
            <span>Enable daily worklog reminders</span>
          </label>
          <small>Get notified if you haven't logged any work for the day</small>
        </div>
        
        <div class="form-group">
          <label for="reminderTime">Reminder Time</label>
          <input type="time" id="reminderTime" value="17:00" />
          <small>Time to receive daily reminder (local time)</small>
        </div>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="enableCommentNotifications" />
            <span>Notify on new work package comments</span>
          </label>
          <small>Get notified when someone comments on your work packages</small>
        </div>
      </section>
      
      <section class="settings-section">
        <h2>üé® Appearance</h2>
        <p class="section-description">Customize the extension appearance</p>
        
        <div class="form-group">
          <label for="theme">Theme</label>
          <select id="theme">
            <option value="light">Light</option>
            <option value="dark">Dark</option>
            <option value="auto">Auto (System)</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="dateFormat">Date Format</label>
          <select id="dateFormat">
            <option value="MM/DD/YYYY">MM/DD/YYYY</option>
            <option value="DD/MM/YYYY">DD/MM/YYYY</option>
            <option value="YYYY-MM-DD">YYYY-MM-DD</option>
          </select>
        </div>
      </section>
      
      <section class="settings-section">
        <h2>üìä Worklog Settings</h2>
        <p class="section-description">Configure worklog behavior</p>
        
        <div class="form-group">
          <label for="defaultWorklogHours">Default Hours per Day</label>
          <input type="number" id="defaultWorklogHours" min="1" max="24" step="0.5" value="8" />
          <small>Default hours to use for quick worklog entry</small>
        </div>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="autoRoundHours" />
            <span>Auto-round hours to nearest quarter (0.25h)</span>
          </label>
        </div>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="requireComment" />
            <span>Require comment for all worklogs</span>
          </label>
        </div>
      </section>
      
      <section class="settings-section">
        <h2>‚è±Ô∏è Timer Settings</h2>
        <p class="section-description">Configure time tracking behavior</p>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="enableTimerSound" />
            <span>Play sound when timer reaches milestones</span>
          </label>
          <small>Sound notification at 1 hour, 2 hours, etc.</small>
        </div>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="pauseTimerOnIdle" />
            <span>Pause timer when computer is idle</span>
          </label>
          <small>Automatically pause after 5 minutes of inactivity</small>
        </div>
      </section>
      
      <section class="settings-section">
        <h2>üìÖ Calendar Integration</h2>
        <p class="section-description">Sync with external calendars</p>
        
        <div class="form-group">
          <label for="calendarProvider">Calendar Provider</label>
          <select id="calendarProvider">
            <option value="none">None</option>
            <option value="google">Google Calendar</option>
            <option value="outlook">Outlook Calendar</option>
          </select>
          <small>Automatically create worklogs from calendar meetings</small>
        </div>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="autoCreateMeetingWorklogs" />
            <span>Auto-create worklogs for meetings</span>
          </label>
        </div>
      </section>
      
      <section class="settings-section">
        <h2>üóëÔ∏è Data Management</h2>
        <p class="section-description">Manage your extension data</p>
        
        <div class="button-group">
          <button type="button" id="clearCacheBtn" class="btn btn-secondary">
            Clear Cache
          </button>
          <button type="button" id="exportSettingsBtn" class="btn btn-secondary">
            Export Settings
          </button>
          <button type="button" id="importSettingsBtn" class="btn btn-secondary">
            Import Settings
          </button>
        </div>
        
        <input type="file" id="importFileInput" accept=".json" style="display: none;" />
      </section>
      
      <div class="status-message" id="statusMessage"></div>
    </main>
    
    <footer>
      <button type="button" id="saveBtn" class="btn btn-primary">Save Settings</button>
      <button type="button" id="cancelBtn" class="btn btn-secondary">Cancel</button>
      
      <div class="footer-info">
        <p>OpenProject Assistant v1.0.0</p>
        <p>
          <a href="https://www.openproject.org/docs/api/" target="_blank">API Documentation</a> | 
          <a href="#" id="aboutLink">About</a> | 
          <a href="#" id="feedbackLink">Send Feedback</a>
        </p>
      </div>
    </footer>
  </div>
  
  <script src="options.js"></script>
</body>
</html>
